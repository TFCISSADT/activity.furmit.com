(window.webpackJsonp=window.webpackJsonp||[]).push([[35,6,24],{381:function(t,e,r){"use strict";r.r(e);var n=r(134),o=r.n(n),c={props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},computed:{computedStyle:function(){return{background:o.a[this.type].background,color:o.a[this.type].color}}},mounted:function(){this.button=this.$refs.button}},l=r(29),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"position:relative"},[e("button",{ref:"button",staticClass:"b:0 p:8|16 w:100% border-radius:4 cursor:pointer transform:translateY(-2):hover transition:0.2s",style:t.computedStyle,on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2),t._v(" "),t.disabled?e("div",{staticClass:"position:absolute top:0 left:0 w:100% h:100% background:rgba(0,0,0,0.4)"}):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:r(381).default})},391:function(t,e,r){"use strict";r.r(e);var n=r(134),o=r.n(n),c={props:{field:{type:String,default:""},value:{default:""},error:{default:null},required:{type:Boolean,default:!1}},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},l=r(29),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+" :\n  ")]):t._e(),t._v(" "),e("select",{style:t.computedStyle,attrs:{required:t.required},domProps:{value:t.value},on:{change:function(e){return t.$emit("input",e.target.value)}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Select:r(391).default})},395:function(t,e,r){var content=r(403);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("0c98b16c",content,!0,{sourceMap:!1})},402:function(t,e,r){"use strict";r(395)},403:function(t,e,r){var n=r(50)(!1);n.push([t.i,"body[data-v-16a28c45]{overflow:hidden}.furmit-furstars-stage-vote[data-v-16a28c45]{overflow:hidden;background:url(/assets/furstars/bg_circle.gif);background-color:hsla(0,0%,100%,.5);background-blend-mode:color;background-position:50%;background-size:auto max(150vh,150vw)}.furmit-furstars-stage-vote[data-v-16a28c45],.furmit-furstars-stage-vote .bg-bars[data-v-16a28c45]{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.furmit-furstars-stage-vote .bg-bars[data-v-16a28c45]{grid-gap:16px;gap:16px}.furmit-furstars-stage-vote .title[data-v-16a28c45]{width:75%;z-index:1;min-width:256px}.score_box[data-v-16a28c45]{width:50%;text-align:center}.score_box.black[data-v-16a28c45]{animation:bouncing_white-16a28c45 3s ease-out infinite}.score_box.red[data-v-16a28c45]{animation:bouncing-16a28c45 3s ease-out infinite}.scores.voted .score_box[data-v-16a28c45]:not(.voted){display:none}.scores.voted .score_box.voted[data-v-16a28c45]{width:50%}.scores[data-v-16a28c45]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;grid-gap:calc(max(16px, 1vw));gap:calc(max(16px, 1vw));box-sizing:border-box;min-height:40vh}.scores img[data-v-16a28c45]{width:80%;max-width:360px}.scene-voting .title[data-v-16a28c45]{width:25%}.scene-voting.furmit-furstars-stage-vote[data-v-16a28c45]{justify-content:space-around}.actions[data-v-16a28c45]{position:absolute;top:0;right:50%;display:flex;flex-direction:row;word-break:keep-all;z-index:10}.text_callout[data-v-16a28c45]{width:100%;max-width:600px}.bg-dots[data-v-16a28c45]{background:url(/assets/furstars/bg_dots.png);width:100%;height:100%}.bg-circle[data-v-16a28c45],.bg-dots[data-v-16a28c45]{pointer-events:none;position:absolute}.bg-circle[data-v-16a28c45]{margin:auto}.bg-teams[data-v-16a28c45]{background:linear-gradient(75deg,#c43737 50%,#c43737 0,#232326 0,#232326 50%);z-index:1}.status-icons[data-v-16a28c45]{display:flex;flex-direction:row;pointer-events:none;position:absolute;right:8px;top:8px}@keyframes bouncing-16a28c45{0%{filter:drop-shadow(0 0 0 black)}50%{filter:drop-shadow(0 8px 8px black)}to{filter:drop-shadow(0 0 0 black)}}@keyframes bouncing_white-16a28c45{0%{filter:drop-shadow(0 0 0 white)}50%{filter:drop-shadow(0 8px 8px white)}to{filter:drop-shadow(0 0 0 white)}}@keyframes shake-16a28c45{0%,to{transform:translate(0) rotate(0);opacity:1}25%{transform:translate(-2.5px,-2.5px) rotate(-1.52deg);opacity:.95}40%{transform:translate(-2.5px,2.5px) rotate(2.5deg);opacity:1}50%{transform:translate(2.5px,2.5px) rotate(-1.75deg);opacity:.95}60%{transform:translate(0) rotate(5deg);opacity:1}75%{transform:translate(2.5px,-2.5px) rotate(2.5deg);opacity:.7}}",""]),t.exports=n},429:function(t,e,r){"use strict";r.r(e);r(52),r(39),r(11);var n=r(3),o=(r(41),r(67),r(30),{name:"page-furstars-vote",layout:"furstars",data:function(){return{update_interval:null,scene:"",redSide:null,blackSide:null,voted:null,stage:1,debug:localStorage.getItem("debuggggg"),loading:!0,error:!1}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.intervalCallback();case 1:case"end":return e.stop()}}),e)})))()},destroyed:function(){clearTimeout(this.update_interval)},computed:{loadingColor:function(){return this.loading?"yellow":this.error?"red":"green"}},methods:{API_Status:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/furstars/vote");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))()},API_Vote:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.post("/api/furstars/vote",{mit_furstars_team_id:t}).data;case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},vote:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.voted){r.next=2;break}return r.abrupt("return",alert("本回合已投票過.\nYou have voted this round."));case 2:if(!confirm("是否投給：".concat("red"===t?"紅隊":"黑隊","？\nVote for ").concat("red"===t?"Red Team":"Black Team","?"))){r.next=14;break}return e.loading=!0,r.prev=4,r.next=7,e.API_Vote("red"===t?e.redSide.id:e.blackSide.id);case 7:e.voted=t,e.error=!1,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),e.error=!0;case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},intervalCallback:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.API_Status();case 4:if(null!=(r=e.sent)&&r.success){e.next=7;break}return e.abrupt("return");case 7:t.scene!=="scene-".concat(r.status.scene)&&(t.voted=null),t.stage=r.status.stage||1,t.scene="scene-".concat(r.status.scene),t.redSide=r.status.redSide,t.blackSide=r.status.blackSide,t.error=!1,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t.error=!0;case 18:return e.prev=18,t.loading=!1,t.update_interval=setTimeout(t.intervalCallback,1111),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,15,18,22]])})))()}}}),c=(r(402),r(29)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"furmit-furstars-stage-vote",class:t.scene+" stage_".concat(t.stage)},[e("div",{staticClass:"bg-dots"}),t._v(" "),e("div",{staticClass:"status-icons"},[e("i",{staticClass:"mdi",class:t.error?"mdi-sync-alert":"mdi-sync",style:"color:"+t.loadingColor+";font-size:32px"})]),t._v(" "),e("img",{staticClass:"title",attrs:{alt:"title",src:"/assets/furstars/title.gif"}}),t._v(" "),"scene-voting"===t.scene?e("div",{staticClass:"scores bg-teams",class:t.voted?"voted":""},[e("div",{staticClass:"score_box red",class:"red"===t.voted?"voted":"",on:{click:function(e){return t.vote("red")}}},[e("img",{staticClass:"mark",attrs:{alt:"red-team",src:"/assets/furstars/mark_red_solid.gif"}}),t._v(" "),e("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(t.stage,"_red.png"),alt:"furstar-team-red"}})]),t._v(" "),e("div",{staticClass:"score_box black",class:"black"===t.voted?"voted":"",on:{click:function(e){return t.vote("black")}}},[e("img",{staticClass:"mark",attrs:{alt:"black-team",src:"/assets/furstars/mark_black_solid.gif"}}),t._v(" "),e("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(t.stage,"_black.png"),alt:"furstar-team-black"}})])]):t._e(),t._v(" "),"scene-voting"!==t.scene||t.voted?t._e():e("img",{staticClass:"text_callout",attrs:{alt:"Vote for your favorite team!",src:"/assets/furstars/text_click.png"}}),t._v(" "),"守逸讚"===t.debug?e("div",{staticClass:"actions"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.scene,expression:"scene"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.scene=e.target.multiple?r:r[0]}}},t._l(["scene-lobby","scene-voting"],(function(r){return e("option",{domProps:{value:r}},[t._v("\n                "+t._s(r)+"\n            ")])})),0),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.stage,expression:"stage"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.stage=e.target.multiple?r:r[0]}}},t._l(new Array(13),(function(r,n){return e("option",{domProps:{value:n+1}},[t._v("\n                Stage "+t._s(n+1)+"\n            ")])})),0),t._v(" "),e("button",{on:{click:function(e){t.voted=null}}},[t._v("Clear")])]):t._e()])}),[],!1,null,"16a28c45",null);e.default=component.exports;installComponents(component,{Select:r(391).default,Button:r(381).default})}}]);