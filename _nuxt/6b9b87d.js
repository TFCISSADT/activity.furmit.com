(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{394:function(t,e,n){var content=n(401);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("0e323b69",content,!0,{sourceMap:!1})},400:function(t,e,n){"use strict";n(394)},401:function(t,e,n){var o=n(50)(!1);o.push([t.i,".round.darkMode[data-v-e102d0ac]{text-shadow:none;color:#000}",""]),t.exports=o},422:function(t,e,n){"use strict";n.r(e);n(17),n(55);var o=n(3),r=(n(30),n(11),n(67),n(135)),d=(n(134),{data:function(){return{loading:!1,data:null,showNotification:!1}},mounted:function(){this.loading=!0,this.$store.commit("app/setTitle",this.$t("minorities.itemName")),this.$store.commit("app/setDarkMode",!0),this.$store.commit("app/setActivity","minorities"),this.getStatus()},methods:{toggleNotification:function(){this.showNotification=!this.showNotification},getStatus:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,t.$axios.get("/api/minorities/status").then((function(e){n.timeToNextMinoritiesUpdate=null,e.data.open_time&&(n.timeToNextMinoritiesUpdate=1e3*e.data.open_time),e.data.end_time&&(n.timeToNextMinoritiesUpdate=1e3*e.data.end_time),t.data=e.data,console.log(t.data)})).catch((function(t){r.a.showRequestError(t)})).finally((function(){n.timeToNextMinoritiesUpdate&&n.timeToNextMinoritiesUpdate>Date.now()&&setTimeout((function(){n.getMinoritiesStatus()}),n.timeToNextMinoritiesUpdate-Date.now()+2e3)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},vote:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm(e.$t("minorities.messages.areYouSureToSubmit").replace("{option}",e.$t("minorities.enums.options."+(t?"yes":"no"))))){n.next=2;break}return n.abrupt("return");case 2:return e.loading=!0,n.next=5,e.$axios.post("/api/minorities",{answer:t}).then((function(t){e.getStatus()})).catch((function(t){r.a.showRequestError(t)}));case 5:e.loading=!1;case 6:case"end":return n.stop()}}),n)})))()}}}),l=(n(400),n(29)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("Loading",{attrs:{value:t.loading}}),t._v(" "),t.data?e("div",{staticClass:"text:center"},[t.data.question?e("div",{staticClass:"text:32 mt:32 font:bold"},[t._v("\n      "+t._s(t.$t("minorities.enums.questions.".concat(t.data.question)))+"\n    ")]):t._e(),t._v(" "),"ended"==t.data.status?e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode}},[t._v("\n        "+t._s(t.$t("minorities.status.ended"))+"\n      ")]),t._v(" "),t.data.is_alive?e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mb:16 bg:white",class:{darkMode:this.$store.state.app.isDarkMode}},[e("div",{staticClass:"text:24 mb:16"},[e("span",{staticClass:"mdi mdi-crown text:64 color:gold-70"}),t._v(" "),e("br"),t._v("\n          "+t._s(t.$t("minorities.messages.isWinner"))+"\n        ")]),t._v(" "),e("div",[t._v(t._s(t.$t("minorities.messages.isWinnerNotice")))])]):t._e(),t._v(" "),e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mb:16 bg:white",class:{darkMode:this.$store.state.app.isDarkMode}},[t.data.winners.length>0?e("div",[e("div",{staticClass:"text:24 mb:16"},[t._v(t._s(t.$t("minorities.messages.winnersAre")))]),t._v(" "),t._l(t.data.winners,(function(n){return e("div",[e("span",[e("span",{staticClass:"mdi mdi-crown"}),t._v("\n              "+t._s(n.attendee_no)+" / "+t._s(n.attendee_nickname)+"\n            ")])])}))],2):e("div",[e("div",{staticClass:"text:24 mb:16"},[t._v(t._s(t.$t("minorities.messages.noWinner")))])])])]):t._e(),t._v(" "),"not started"==t.data.status?e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode}},[t._v("\n        "+t._s(t.$t("minorities.status.notStarted"))+"\n      ")])]):t._e(),t._v(" "),"sorting"==t.data.status?e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode}},[t._v("\n        "+t._s(t.$t("minorities.status.sort"))+"\n      ")])]):t._e(),t._v(" "),"can vote"==t.data.status?e("div",[e("div",{staticClass:"text:24 mt:32 mb:32@<sm"},[t._v("\n        "+t._s(t.$t("minorities.messages.chooseYourSide"))+"\n      ")]),t._v(" "),e("div",{staticClass:"flex flex:col@<sm jc:center ai:center"},[e("div",{staticClass:"bg:white text:36 m:32 w:200 h:200 {w:100%;h:90;mb:16;mt:8}@<sm border:#CECECE|1px|solid cursor:pointer round drop-shadow flex jc:center ai:center",class:{darkMode:this.$store.state.app.isDarkMode},on:{click:function(e){return t.vote(!0)}}},[e("span",{staticClass:"mdi mdi-circle-outline text:64 color:green-50"})]),t._v(" "),e("div",{staticClass:"bg:white text:36 m:32 w:200 h:200 {w:100%;h:90;mb:8;mt:16}@<sm border:#CECECE|1px|solid cursor:pointer round drop-shadow flex jc:center ai:center",class:{darkMode:this.$store.state.app.isDarkMode},on:{click:function(e){return t.vote(!1)}}},[e("span",{staticClass:"mdi mdi-close text:64 color:red-50"})])]),t._v(" "),t.data.startTime?e("div",{staticClass:"text:24 mt:32 mb:32 flex flex:col@<sm jc:center ai:center"},[e("div",{staticClass:"mb:16px@<sm"},[t._v("\n          "+t._s(t.$t("minorities.messages.timeRange"))+"\n        ")]),t._v(" "),e("div",[t._v(t._s(t.data.startTime))]),t._v(" "),e("div",[t._v(" "+t._s(t.$t("minorities.messages.timeThru"))+" ")]),t._v(" "),e("div",[t._v(t._s(t.data.endTime))])]):t._e()]):t._e(),t._v(" "),"cannot vote"==t.data.status?e("div",[t.data.is_alive?t._e():e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode}},[t._v("\n          "+t._s(t.$t("minorities.messages.out"))+"\n        ")])]),t._v(" "),t.data.has_voted?e("div",[e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode}},[t._v("\n          "+t._s(t.$t("minorities.messages.voted"))+"\n        ")])]):t._e()]):t._e(),t._v(" "),t.data.open_time?e("div",{staticClass:"text:24 mt:32@<sm mb:32 flex flex:col@<sm jc:center ai:center"},[e("div",[t._v(t._s(t.$t("minorities.messages.timeToNextStage").replace("{minutes}",Math.floor((t.data.open_time-Date.now()/1e3)/60))))])]):t._e(),t._v(" "),t.data.end_time?e("div",{staticClass:"text:24 mt:32@<sm mb:32 flex flex:col@<sm jc:center ai:center"},[e("div",[t._v(t._s(t.$t("minorities.messages.timeLeft").replace("{minutes}",Math.floor((t.data.end_time-Date.now()/1e3)/60))))])]):t._e(),t._v(" "),t.showNotification?e("div",{staticClass:"round drop-shadow p:16|48 p:16|24@<xs mt:32 mb:16 bg:white text:24",class:{darkMode:this.$store.state.app.isDarkMode},on:{click:function(e){return t.toggleNotification()}}},[e("div",[t._v(t._s(t.$t("minorities.rules.title")))]),t._v(" "),t.showNotification?e("div",{staticClass:"text:left text:20"},[e("hr",{staticClass:"mt:16 mb:16"}),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.time.title")))]),t._v("\n        "+t._s(t.$t("minorities.rules.time.content"))+"\n        "),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.howToPlay.title")))]),t._v(" "),e("ul",[e("li",[t._v(t._s(t.$t("minorities.rules.howToPlay.contents[0]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.howToPlay.contents[1]")))])]),t._v("          \n        "+t._s(t.$t("minorities.rules.howToPlay.contents[2]"))),e("br"),e("br"),t._v("\n        "+t._s(t.$t("minorities.rules.howToPlay.contents[3]"))+"\n        "),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.howToAdvance.title")))]),t._v(" "),e("ul",[e("li",[t._v(t._s(t.$t("minorities.rules.howToAdvance.contents[0]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.howToAdvance.contents[1]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.howToAdvance.contents[2]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.howToAdvance.contents[3]")))])]),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.votingTimes.title")))]),t._v(" "),e("ul",[e("li",[t._v(t._s(t.$t("minorities.rules.votingTimes.contents[0]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.votingTimes.contents[1]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.votingTimes.contents[2]")))])]),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.specialRules.title")))]),t._v(" "),e("ol",[e("li",[t._v(t._s(t.$t("minorities.rules.specialRules.contents[0]")))]),t._v(" "),e("li",[t._v(t._s(t.$t("minorities.rules.specialRules.contents[1]")))])]),t._v(" "),e("hr"),t._v(" "),e("h4",[t._v(t._s(t.$t("minorities.rules.examples.title")))]),t._v(" "),e("ol",{staticClass:"text:16"},[e("li",[e("h4",[t._v(t._s(t.$t("minorities.rules.examples.contents[0].title")))]),t._v("\n            "+t._s(t.$t("minorities.rules.examples.contents[0].content"))+"\n          ")]),t._v(" "),e("li",[e("h4",[t._v(t._s(t.$t("minorities.rules.examples.contents[1].title")))]),t._v("\n            "+t._s(t.$t("minorities.rules.examples.contents[1].content"))+"\n          ")]),t._v(" "),e("li",[e("h4",[t._v(t._s(t.$t("minorities.rules.examples.contents[1].title")))]),t._v("\n            "+t._s(t.$t("minorities.rules.examples.contents[1].content"))+"\n          ")])])]):t._e()]):e("div",{staticClass:"p:16|48 p:16|24@<xs mt:32 mb:16 text:24 text:underline",on:{click:function(e){return t.toggleNotification()}}},[e("div",{staticClass:"text:16"},[t._v(t._s(t.$t("minorities.rules.toggleTitle")))])])]):t._e()],1)}),[],!1,null,"e102d0ac",null);e.default=component.exports;installComponents(component,{Loading:n(245).default})}}]);